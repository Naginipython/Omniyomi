{"id":"Manga4Life","media_type":"manga","search_url":"https://manga4life.com/search/?sort=s&desc=false&name={title}","search":"function search(json) { let data = []; let retrieved; const keyword = 'vm.Directory ='; const endChar = ']'; const startIndex = json.indexOf(keyword); if (startIndex !== -1) { const remainingString = json.substring(startIndex + keyword.length).trim(); const endIndex = remainingString.indexOf(endChar+';'); if (endIndex !== -1) { retrieved = JSON.parse(remainingString.substring(0, endIndex + 1).trim()); } } let query; const keyword2 = 'vm.Search ='; const endChar2 = '}'; const startIndex2 = json.indexOf(keyword2); if (startIndex2 !== -1) { const remainingString2 = json.substring(startIndex2 + keyword2.length).trim(); const endIndex2 = remainingString2.indexOf(endChar2+';'); if (endIndex2 !== -1) { query = JSON.parse(remainingString2.substring(0, endIndex2 + 1).trim()).SeriesName; } } let filtered_retrieve = retrieved.filter(e => e['s'].toLowerCase().includes(query) || e['al'].some(f => f.toLowerCase().includes(query)) || e['a'].some(f => f.toLowerCase().includes(query)) ); return filtered_retrieve.map(e => { return { 'id': e['i'], 'title': e['s'], 'img': `https://temp.compsci88.com/cover/${e['i']}.jpg`, 'plugin': 'Manga4Life', 'authors': e['a'].join(', '), 'artists': '', 'description': '', 'chapters': [] }; });}","chapters_url":"https://manga4life.com/manga/{id}","get_chapters":"function getChapters(json) { let retrieved; const keyword = 'vm.Chapters ='; const endChar = ']'; const startIndex = json.indexOf(keyword); if (startIndex !== -1) { const remainingString = json.substring(startIndex + keyword.length).trim(); const endIndex = remainingString.indexOf(endChar+';'); if (endIndex !== -1) { retrieved = JSON.parse(remainingString.substring(0, endIndex + 1).trim()); } } let id; const keyword2 = 'vm.IndexName ='; const endChar2 = '\"'; const startIndex2 = json.indexOf(keyword2); if (startIndex2 !== -1) { const remainingString2 = json.substring(startIndex2 + keyword2.length).trim(); const endIndex2 = remainingString2.indexOf(endChar2+';'); if (endIndex2 !== -1) { id = JSON.parse(remainingString2.substring(0, endIndex2 + 1).trim()); } } let data = retrieved.map(e => { let decimal = parseFloat('0.'+e['Chapter'][5]); let num = parseInt(e['Chapter'].slice(1, 5)); return { 'id': `${id}-chapter-${num+decimal}`, 'number': num+decimal, 'title': e['ChapterName'] == null? '' : e['ChapterName'], 'page': 1, 'completed': false } }); return data;}","pages_url":"https://manga4life.com/read-online/{id}-page-1.html","get_pages":"function getChapterPages(json) { let retrieved; const keyword = 'vm.CurChapter ='; const endChar = '}'; const startIndex = json.indexOf(keyword); if (startIndex !== -1) { const remainingString = json.substring(startIndex + keyword.length).trim(); const endIndex = remainingString.indexOf(endChar+';'); if (endIndex !== -1) { retrieved = JSON.parse(remainingString.substring(0, endIndex + 1).trim()); } } let link; const keyword2 = 'vm.CurPathName ='; const endChar2 = '\"'; const startIndex2 = json.indexOf(keyword2); if (startIndex2 !== -1) { const remainingString2 = json.substring(startIndex2 + keyword2.length).trim(); const endIndex2 = remainingString2.indexOf(endChar2+';'); if (endIndex2 !== -1) { link = JSON.parse(remainingString2.substring(0, endIndex2 + 1).trim()); } } let id; const keyword3 = 'vm.IndexName ='; const endChar3 = '\"'; const startIndex3 = json.indexOf(keyword3); if (startIndex3 !== -1) { const remainingString3 = json.substring(startIndex3 + keyword3.length).trim(); const endIndex3 = remainingString3.indexOf(endChar3+';'); if (endIndex3 !== -1) { id = JSON.parse(remainingString3.substring(0, endIndex3 + 1).trim()); } } let chapter = retrieved.Chapter.slice(1,-1); let period = retrieved.Chapter[retrieved.Chapter.length -1]; let pages = parseInt(retrieved.Page); let data = []; for (let i=1; i < pages+1; i++) { if (period != 0) { let newChap = chapter + '.' + period; let pad_math = 5 + newChap.split('.')[1].length; data.push(`https://${link}/manga/${id}/${newChap.padStart(pad_math, '0')}-${i.toString().padStart(3, '0')}.png`) } else { data.push(`https://${link}/manga/${id}/${chapter.padStart(4, '0')}-${i.toString().padStart(3, '0')}.png`) } } return data;}"}
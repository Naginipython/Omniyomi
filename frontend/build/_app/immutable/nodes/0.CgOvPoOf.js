import{s as ve,e as he,u as ge,g as ye,f as $e,c as ke,o as we,h as Ee,n as J}from"../chunks/scheduler.B8cUhyJv.js";import{S as Te,i as xe,e as $,s as N,t as Q,c as k,a as E,f as O,d as r,b as R,l as u,g,h as B,p as T,q as le,r as x,v as se,k as ee,u as te,x as C,y as A,z as L,m as ae,A as M}from"../chunks/index.DY94jAkc.js";import{n as Be}from"../chunks/stores.DG1Tspro.js";import{g as _e}from"../chunks/entry.C_ODg16e.js";import{i as Ie,F as V,f as Ne,a as Oe,b as be,c as pe,d as Ue,e as Ce}from"../chunks/fa-layers-text.svelte_svelte_type_style_lang.gXEXufag.js";import{t as Ae,f as Le,a as Me,i as Ve}from"../chunks/common.CF3d71wm.js";import{s as De}from"../chunks/store.BsptXrlN.js";const Se=!0,Fe=!1,st=Object.freeze(Object.defineProperty({__proto__:null,prerender:Se,ssr:Fe},Symbol.toStringTag,{value:"Module"}));function Pe(v){let e,t,l,o,c="Anime",n,s,f="LN",h,a,m="Nothing here done";return{c(){e=$("button"),t=Q("Manga"),l=N(),o=$("button"),o.textContent=c,n=N(),s=$("button"),s.textContent=f,h=N(),a=$("p"),a.textContent=m,this.h()},l(d){e=k(d,"BUTTON",{id:!0,class:!0});var _=E(e);t=R(_,"Manga"),_.forEach(r),l=O(d),o=k(d,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1og8e2k"&&(o.textContent=c),n=O(d),s=k(d,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ee(s)!=="svelte-b11k04"&&(s.textContent=f),h=O(d),a=k(d,"P",{class:!0,style:!0,"data-svelte-h":!0}),ee(a)!=="svelte-t6pspw"&&(a.textContent=m),this.h()},h(){u(e,"id","manga"),u(e,"class","snackbar-item selected svelte-ltmex4"),u(o,"id","anime"),u(o,"class","snackbar-item svelte-ltmex4"),u(s,"id","ln"),u(s,"class","snackbar-item svelte-ltmex4"),u(a,"class","snackbar-item svelte-ltmex4"),te(a,"margin","0"),te(a,"padding","0"),te(a,"display","linline-flex")},m(d,_){g(d,e,_),B(e,t),g(d,l,_),g(d,o,_),g(d,n,_),g(d,s,_),g(d,h,_),g(d,a,_)},p:J,i:J,o:J,d(d){d&&(r(e),r(l),r(o),r(n),r(s),r(h),r(a))}}}function qe(v){let e,t,l,o,c;return t=new V({props:{icon:Ne}}),{c(){e=$("button"),C(t.$$.fragment),this.h()},l(n){e=k(n,"BUTTON",{class:!0});var s=E(e);A(t.$$.fragment,s),s.forEach(r),this.h()},h(){u(e,"class","snackbar-item svelte-ltmex4")},m(n,s){g(n,e,s),L(t,e,null),l=!0,o||(c=ae(e,"click",v[7]),o=!0)},p:J,i(n){l||(x(t.$$.fragment,n),l=!0)},o(n){T(t.$$.fragment,n),l=!1},d(n){n&&r(e),M(t),o=!1,c()}}}function ze(v){let e,t,l,o,c,n,s,f,h;return t=new V({props:{icon:Oe}}),c=new V({props:{icon:be}}),f=new V({props:{icon:pe}}),{c(){e=$("button"),C(t.$$.fragment),l=N(),o=$("button"),C(c.$$.fragment),n=N(),s=$("button"),C(f.$$.fragment),this.h()},l(a){e=k(a,"BUTTON",{class:!0});var m=E(e);A(t.$$.fragment,m),m.forEach(r),l=O(a),o=k(a,"BUTTON",{class:!0});var d=E(o);A(c.$$.fragment,d),d.forEach(r),n=O(a),s=k(a,"BUTTON",{class:!0});var _=E(s);A(f.$$.fragment,_),_.forEach(r),this.h()},h(){u(e,"class","snackbar-item svelte-ltmex4"),u(o,"class","snackbar-item svelte-ltmex4"),u(s,"class","snackbar-item svelte-ltmex4")},m(a,m){g(a,e,m),L(t,e,null),g(a,l,m),g(a,o,m),L(c,o,null),g(a,n,m),g(a,s,m),L(f,s,null),h=!0},p:J,i(a){h||(x(t.$$.fragment,a),x(c.$$.fragment,a),x(f.$$.fragment,a),h=!0)},o(a){T(t.$$.fragment,a),T(c.$$.fragment,a),T(f.$$.fragment,a),h=!1},d(a){a&&(r(e),r(l),r(o),r(n),r(s)),M(t),M(c),M(f)}}}function He(v){let e,t,l,o,c;return t=new V({props:{icon:Ue}}),{c(){e=$("button"),C(t.$$.fragment),this.h()},l(n){e=k(n,"BUTTON",{class:!0});var s=E(e);A(t.$$.fragment,s),s.forEach(r),this.h()},h(){u(e,"class","snackbar-item svelte-ltmex4")},m(n,s){g(n,e,s),L(t,e,null),l=!0,o||(c=ae(e,"click",v[9]),o=!0)},p:J,i(n){l||(x(t.$$.fragment,n),l=!0)},o(n){T(t.$$.fragment,n),l=!1},d(n){n&&r(e),M(t),o=!1,c()}}}function Ke(v){let e,t,l,o,c,n,s,f,h,a,m,d;const _=[Ge,je],w=[];function D(p,b){return p[2].favorited?0:1}return t=D(v),l=w[t]=_[t](v),n=new V({props:{icon:be}}),h=new V({props:{icon:pe}}),{c(){e=$("button"),l.c(),o=N(),c=$("button"),C(n.$$.fragment),s=N(),f=$("button"),C(h.$$.fragment),this.h()},l(p){e=k(p,"BUTTON",{class:!0});var b=E(e);l.l(b),b.forEach(r),o=O(p),c=k(p,"BUTTON",{class:!0});var U=E(c);A(n.$$.fragment,U),U.forEach(r),s=O(p),f=k(p,"BUTTON",{class:!0});var H=E(f);A(h.$$.fragment,H),H.forEach(r),this.h()},h(){u(e,"class","snackbar-item svelte-ltmex4"),u(c,"class","snackbar-item svelte-ltmex4"),u(f,"class","snackbar-item svelte-ltmex4")},m(p,b){g(p,e,b),w[t].m(e,null),g(p,o,b),g(p,c,b),L(n,c,null),g(p,s,b),g(p,f,b),L(h,f,null),a=!0,m||(d=ae(e,"click",v[8]),m=!0)},p(p,b){let U=t;t=D(p),t!==U&&(se(),T(w[U],1,1,()=>{w[U]=null}),le(),l=w[t],l||(l=w[t]=_[t](p),l.c()),x(l,1),l.m(e,null))},i(p){a||(x(l),x(n.$$.fragment,p),x(h.$$.fragment,p),a=!0)},o(p){T(l),T(n.$$.fragment,p),T(h.$$.fragment,p),a=!1},d(p){p&&(r(e),r(o),r(c),r(s),r(f)),w[t].d(),M(n),M(h),m=!1,d()}}}function je(v){let e,t;return e=new V({props:{icon:Le}}),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,o){L(e,l,o),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ge(v){let e,t;return e=new V({props:{icon:Ce}}),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,o){L(e,l,o),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Je(v){let e,t,l,o,c,n,s,f,h,a,m,d,_,w,D,p,b,U,H,S,W,X,F,Y,K;const ne=[qe,Pe],P=[];function re(i,y){return i[1]?0:1}t=re(v),l=P[t]=ne[t](v);const oe=[Ke,He,ze],q=[];function ie(i,y){return y&1&&(n=null),i[1]?0:(n==null&&(n=!!i[0].includes("browse")),n?1:2)}s=ie(v,-1),f=q[s]=oe[s](v);const Z=v[6].default,I=he(Z,v,v[5],null);return{c(){e=$("div"),l.c(),o=N(),c=$("div"),f.c(),h=N(),a=$("div"),I&&I.c(),m=N(),d=$("div"),_=$("nav"),w=$("a"),D=Q("Library"),p=N(),b=$("a"),U=Q("Updates"),H=N(),S=$("a"),W=Q("Browse"),X=N(),F=$("a"),Y=Q("More"),this.h()},l(i){e=k(i,"DIV",{id:!0,class:!0});var y=E(e);l.l(y),o=O(y),c=k(y,"DIV",{class:!0});var j=E(c);f.l(j),j.forEach(r),y.forEach(r),h=O(i),a=k(i,"DIV",{id:!0,class:!0});var G=E(a);I&&I.l(G),G.forEach(r),m=O(i),d=k(i,"DIV",{id:!0,class:!0});var ce=E(d);_=k(ce,"NAV",{class:!0});var z=E(_);w=k(z,"A",{id:!0,class:!0,href:!0});var ue=E(w);D=R(ue,"Library"),ue.forEach(r),p=O(z),b=k(z,"A",{id:!0,class:!0,href:!0});var fe=E(b);U=R(fe,"Updates"),fe.forEach(r),H=O(z),S=k(z,"A",{id:!0,class:!0,href:!0});var me=E(S);W=R(me,"Browse"),me.forEach(r),X=O(z),F=k(z,"A",{id:!0,class:!0,href:!0});var de=E(F);Y=R(de,"More"),de.forEach(r),z.forEach(r),ce.forEach(r),this.h()},h(){u(c,"class","snackbar-right svelte-ltmex4"),u(e,"id","snackbar"),u(e,"class","svelte-ltmex4"),u(a,"id","body"),u(a,"class","svelte-ltmex4"),u(w,"id","/library"),u(w,"class","separator "+(window.location.pathname=="/library"?"selected":"")+" svelte-ltmex4"),u(w,"href","/library"),u(b,"id","/updates"),u(b,"class","separator "+(window.location.pathname=="/updates"?"selected":"")+" svelte-ltmex4"),u(b,"href","/updates"),u(S,"id","/browse"),u(S,"class","separator "+(window.location.pathname=="/browse"?"selected":"")+" svelte-ltmex4"),u(S,"href","/browse"),u(F,"id","/more"),u(F,"class",Ee(window.location.pathname=="/more"?"selected":"")+" svelte-ltmex4"),u(F,"href","/more"),u(_,"class","nav-bar svelte-ltmex4"),u(d,"id","nav-centered"),u(d,"class","svelte-ltmex4")},m(i,y){g(i,e,y),P[t].m(e,null),B(e,o),B(e,c),q[s].m(c,null),g(i,h,y),g(i,a,y),I&&I.m(a,null),g(i,m,y),g(i,d,y),B(d,_),B(_,w),B(w,D),B(_,p),B(_,b),B(b,U),B(_,H),B(_,S),B(S,W),B(_,X),B(_,F),B(F,Y),K=!0},p(i,[y]){let j=t;t=re(i),t===j?P[t].p(i,y):(se(),T(P[j],1,1,()=>{P[j]=null}),le(),l=P[t],l?l.p(i,y):(l=P[t]=ne[t](i),l.c()),x(l,1),l.m(e,o));let G=s;s=ie(i,y),s===G?q[s].p(i,y):(se(),T(q[G],1,1,()=>{q[G]=null}),le(),f=q[s],f?f.p(i,y):(f=q[s]=oe[s](i),f.c()),x(f,1),f.m(c,null)),I&&I.p&&(!K||y&32)&&ge(I,Z,i,i[5],K?$e(Z,i[5],y,null):ye(i[5]),null)},i(i){K||(x(l),x(f),x(I,i),K=!0)},o(i){T(l),T(f),T(I,i),K=!1},d(i){i&&(r(e),r(h),r(a),r(m),r(d)),P[t].d(),q[s].d(),I&&I.d(i)}}}function Qe(v){v.ctrlKey&&v.key==="a"&&(v.preventDefault(),console.log("interesting"))}function Re(v,e,t){let l;ke(v,Be,b=>t(4,l=b));let{$$slots:o={},$$scope:c}=e,n=[];we(async()=>{n=await Ie("get_lib"),De.update(b=>(b.library=n,b))});let s="",f=["/library","/updates","/browse","/more"],h={},a=!1,m={favorited:!1,data:{},back:"/"};function d(){t(0,s=l.to.url.pathname);let b=l.from.url.pathname;if(f.includes(s)&&(f.forEach(U=>{document.getElementById(U).classList.remove("selected")}),document.getElementById(s).classList.add("selected")),b.includes("reader")||(h[b]=document.getElementById("body").scrollTop,h.hasOwnProperty(s)?setTimeout(()=>document.getElementById("body").scrollTop=h[s],1):document.getElementById("body").scrollTop=0),s.includes("manga")&&!s.includes("reader")){switch(t(1,a=!0),b){case"/library":case"/updates":case"/browse":t(2,m.back=b,m)}t(2,m.data=Me(l.to.params.manga),m),t(2,m.favorited=Ve(m.data.id),m)}else t(1,a=!1);s.includes("reader")?(document.getElementById("snackbar").style.display="none",document.getElementById("body").style.height="100vh",document.getElementById("nav-centered").style.display="none"):(document.getElementById("snackbar").style.display="block",document.getElementById("body").style.height=null,document.getElementById("nav-centered").style.display="block")}window.addEventListener("keydown",Qe);async function _(){t(2,m.favorited=!m.favorited,m),await Ae(m.data)}const w=async()=>_e(m.back),D=async()=>_(),p=()=>_e("/browse/add_sources");return v.$$set=b=>{"$$scope"in b&&t(5,c=b.$$scope)},v.$$.update=()=>{v.$$.dirty&16&&l&&d()},[s,a,m,_,l,c,o,w,D,p]}class at extends Te{constructor(e){super(),xe(this,e,Re,Je,ve,{})}}export{at as component,st as universal};

import{s as ve,e as he,u as ge,g as ye,f as $e,c as ke,o as we,h as Ee,n as J}from"../chunks/scheduler.B8cUhyJv.js";import{S as Te,i as xe,e as $,s as N,t as Q,c as k,a as E,f as O,d as r,b as R,l as d,g as h,h as B,p as T,q as le,r as x,v as se,k as ee,u as te,x as C,y as A,z as L,m as ae,A as M}from"../chunks/index.DY94jAkc.js";import{n as Be}from"../chunks/stores.CHM0Ru4b.js";import{g as _e}from"../chunks/entry.DbIczqMD.js";import{i as Ie,t as Ne,f as Oe,a as Ue,b as Ce}from"../chunks/common.CwLJ6KcA.js";import{F as V,f as Ae,a as Le,b as be,c as pe,d as Me,e as Ve}from"../chunks/fa-layers-text.svelte_svelte_type_style_lang.CLpbIFC5.js";import{s as De}from"../chunks/store.BsptXrlN.js";const Se=!0,Fe=!1,st=Object.freeze(Object.defineProperty({__proto__:null,prerender:Se,ssr:Fe},Symbol.toStringTag,{value:"Module"}));function Pe(b){let e,t,l,o,u="Anime",a,n,f="LN",p,s,g="Nothing here done";return{c(){e=$("button"),t=Q("Manga"),l=N(),o=$("button"),o.textContent=u,a=N(),n=$("button"),n.textContent=f,p=N(),s=$("p"),s.textContent=g,this.h()},l(m){e=k(m,"BUTTON",{id:!0,class:!0});var _=E(e);t=R(_,"Manga"),_.forEach(r),l=O(m),o=k(m,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1og8e2k"&&(o.textContent=u),a=O(m),n=k(m,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-b11k04"&&(n.textContent=f),p=O(m),s=k(m,"P",{class:!0,style:!0,"data-svelte-h":!0}),ee(s)!=="svelte-t6pspw"&&(s.textContent=g),this.h()},h(){d(e,"id","manga"),d(e,"class","snackbar-item selected svelte-ltmex4"),d(o,"id","anime"),d(o,"class","snackbar-item svelte-ltmex4"),d(n,"id","ln"),d(n,"class","snackbar-item svelte-ltmex4"),d(s,"class","snackbar-item svelte-ltmex4"),te(s,"margin","0"),te(s,"padding","0"),te(s,"display","linline-flex")},m(m,_){h(m,e,_),B(e,t),h(m,l,_),h(m,o,_),h(m,a,_),h(m,n,_),h(m,p,_),h(m,s,_)},p:J,i:J,o:J,d(m){m&&(r(e),r(l),r(o),r(a),r(n),r(p),r(s))}}}function qe(b){let e,t,l,o,u;return t=new V({props:{icon:Ae}}),{c(){e=$("button"),C(t.$$.fragment),this.h()},l(a){e=k(a,"BUTTON",{class:!0});var n=E(e);A(t.$$.fragment,n),n.forEach(r),this.h()},h(){d(e,"class","snackbar-item svelte-ltmex4")},m(a,n){h(a,e,n),L(t,e,null),l=!0,o||(u=ae(e,"click",b[7]),o=!0)},p:J,i(a){l||(x(t.$$.fragment,a),l=!0)},o(a){T(t.$$.fragment,a),l=!1},d(a){a&&r(e),M(t),o=!1,u()}}}function ze(b){let e,t,l,o,u,a,n,f,p;return t=new V({props:{icon:Le}}),u=new V({props:{icon:be}}),f=new V({props:{icon:pe}}),{c(){e=$("button"),C(t.$$.fragment),l=N(),o=$("button"),C(u.$$.fragment),a=N(),n=$("button"),C(f.$$.fragment),this.h()},l(s){e=k(s,"BUTTON",{class:!0});var g=E(e);A(t.$$.fragment,g),g.forEach(r),l=O(s),o=k(s,"BUTTON",{class:!0});var m=E(o);A(u.$$.fragment,m),m.forEach(r),a=O(s),n=k(s,"BUTTON",{class:!0});var _=E(n);A(f.$$.fragment,_),_.forEach(r),this.h()},h(){d(e,"class","snackbar-item svelte-ltmex4"),d(o,"class","snackbar-item svelte-ltmex4"),d(n,"class","snackbar-item svelte-ltmex4")},m(s,g){h(s,e,g),L(t,e,null),h(s,l,g),h(s,o,g),L(u,o,null),h(s,a,g),h(s,n,g),L(f,n,null),p=!0},p:J,i(s){p||(x(t.$$.fragment,s),x(u.$$.fragment,s),x(f.$$.fragment,s),p=!0)},o(s){T(t.$$.fragment,s),T(u.$$.fragment,s),T(f.$$.fragment,s),p=!1},d(s){s&&(r(e),r(l),r(o),r(a),r(n)),M(t),M(u),M(f)}}}function He(b){let e,t,l,o,u;return t=new V({props:{icon:Me}}),{c(){e=$("button"),C(t.$$.fragment),this.h()},l(a){e=k(a,"BUTTON",{class:!0});var n=E(e);A(t.$$.fragment,n),n.forEach(r),this.h()},h(){d(e,"class","snackbar-item svelte-ltmex4")},m(a,n){h(a,e,n),L(t,e,null),l=!0,o||(u=ae(e,"click",b[9]),o=!0)},p:J,i(a){l||(x(t.$$.fragment,a),l=!0)},o(a){T(t.$$.fragment,a),l=!1},d(a){a&&r(e),M(t),o=!1,u()}}}function Ke(b){let e,t,l,o,u,a,n,f,p,s,g,m;const _=[Ge,je],w=[];function D(i,v){return i[2].favorited?0:1}return t=D(b),l=w[t]=_[t](b),a=new V({props:{icon:be}}),p=new V({props:{icon:pe}}),{c(){e=$("button"),l.c(),o=N(),u=$("button"),C(a.$$.fragment),n=N(),f=$("button"),C(p.$$.fragment),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var v=E(e);l.l(v),v.forEach(r),o=O(i),u=k(i,"BUTTON",{class:!0});var U=E(u);A(a.$$.fragment,U),U.forEach(r),n=O(i),f=k(i,"BUTTON",{class:!0});var H=E(f);A(p.$$.fragment,H),H.forEach(r),this.h()},h(){d(e,"class","snackbar-item svelte-ltmex4"),d(u,"class","snackbar-item svelte-ltmex4"),d(f,"class","snackbar-item svelte-ltmex4")},m(i,v){h(i,e,v),w[t].m(e,null),h(i,o,v),h(i,u,v),L(a,u,null),h(i,n,v),h(i,f,v),L(p,f,null),s=!0,g||(m=ae(e,"click",b[8]),g=!0)},p(i,v){let U=t;t=D(i),t!==U&&(se(),T(w[U],1,1,()=>{w[U]=null}),le(),l=w[t],l||(l=w[t]=_[t](i),l.c()),x(l,1),l.m(e,null))},i(i){s||(x(l),x(a.$$.fragment,i),x(p.$$.fragment,i),s=!0)},o(i){T(l),T(a.$$.fragment,i),T(p.$$.fragment,i),s=!1},d(i){i&&(r(e),r(o),r(u),r(n),r(f)),w[t].d(),M(a),M(p),g=!1,m()}}}function je(b){let e,t;return e=new V({props:{icon:Oe}}),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,o){L(e,l,o),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ge(b){let e,t;return e=new V({props:{icon:Ve}}),{c(){C(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,o){L(e,l,o),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Je(b){let e,t,l,o,u,a,n,f,p,s,g,m,_,w,D,i,v,U,H,S,W,X,F,Y,K;const ne=[qe,Pe],P=[];function re(c,y){return c[1]?0:1}t=re(b),l=P[t]=ne[t](b);const oe=[Ke,He,ze],q=[];function ie(c,y){return y&1&&(a=null),c[1]?0:(a==null&&(a=!!c[0].includes("browse")),a?1:2)}n=ie(b,-1),f=q[n]=oe[n](b);const Z=b[6].default,I=he(Z,b,b[5],null);return{c(){e=$("div"),l.c(),o=N(),u=$("div"),f.c(),p=N(),s=$("div"),I&&I.c(),g=N(),m=$("div"),_=$("nav"),w=$("a"),D=Q("Library"),i=N(),v=$("a"),U=Q("Updates"),H=N(),S=$("a"),W=Q("Browse"),X=N(),F=$("a"),Y=Q("More"),this.h()},l(c){e=k(c,"DIV",{id:!0,class:!0});var y=E(e);l.l(y),o=O(y),u=k(y,"DIV",{class:!0});var j=E(u);f.l(j),j.forEach(r),y.forEach(r),p=O(c),s=k(c,"DIV",{id:!0,class:!0});var G=E(s);I&&I.l(G),G.forEach(r),g=O(c),m=k(c,"DIV",{id:!0,class:!0});var ce=E(m);_=k(ce,"NAV",{class:!0});var z=E(_);w=k(z,"A",{id:!0,class:!0,href:!0});var ue=E(w);D=R(ue,"Library"),ue.forEach(r),i=O(z),v=k(z,"A",{id:!0,class:!0,href:!0});var fe=E(v);U=R(fe,"Updates"),fe.forEach(r),H=O(z),S=k(z,"A",{id:!0,class:!0,href:!0});var me=E(S);W=R(me,"Browse"),me.forEach(r),X=O(z),F=k(z,"A",{id:!0,class:!0,href:!0});var de=E(F);Y=R(de,"More"),de.forEach(r),z.forEach(r),ce.forEach(r),this.h()},h(){d(u,"class","snackbar-right svelte-ltmex4"),d(e,"id","snackbar"),d(e,"class","svelte-ltmex4"),d(s,"id","body"),d(s,"class","svelte-ltmex4"),d(w,"id","/library"),d(w,"class","separator "+(window.location.pathname=="/library"?"selected":"")+" svelte-ltmex4"),d(w,"href","/library"),d(v,"id","/updates"),d(v,"class","separator "+(window.location.pathname=="/updates"?"selected":"")+" svelte-ltmex4"),d(v,"href","/updates"),d(S,"id","/browse"),d(S,"class","separator "+(window.location.pathname=="/browse"?"selected":"")+" svelte-ltmex4"),d(S,"href","/browse"),d(F,"id","/more"),d(F,"class",Ee(window.location.pathname=="/more"?"selected":"")+" svelte-ltmex4"),d(F,"href","/more"),d(_,"class","nav-bar svelte-ltmex4"),d(m,"id","nav-centered"),d(m,"class","svelte-ltmex4")},m(c,y){h(c,e,y),P[t].m(e,null),B(e,o),B(e,u),q[n].m(u,null),h(c,p,y),h(c,s,y),I&&I.m(s,null),h(c,g,y),h(c,m,y),B(m,_),B(_,w),B(w,D),B(_,i),B(_,v),B(v,U),B(_,H),B(_,S),B(S,W),B(_,X),B(_,F),B(F,Y),K=!0},p(c,[y]){let j=t;t=re(c),t===j?P[t].p(c,y):(se(),T(P[j],1,1,()=>{P[j]=null}),le(),l=P[t],l?l.p(c,y):(l=P[t]=ne[t](c),l.c()),x(l,1),l.m(e,o));let G=n;n=ie(c,y),n===G?q[n].p(c,y):(se(),T(q[G],1,1,()=>{q[G]=null}),le(),f=q[n],f?f.p(c,y):(f=q[n]=oe[n](c),f.c()),x(f,1),f.m(u,null)),I&&I.p&&(!K||y&32)&&ge(I,Z,c,c[5],K?$e(Z,c[5],y,null):ye(c[5]),null)},i(c){K||(x(l),x(f),x(I,c),K=!0)},o(c){T(l),T(f),T(I,c),K=!1},d(c){c&&(r(e),r(p),r(s),r(g),r(m)),P[t].d(),q[n].d(),I&&I.d(c)}}}function Qe(b){b.ctrlKey&&b.key==="a"&&(b.preventDefault(),console.log("interesting"))}function Re(b,e,t){let l;ke(b,Be,i=>t(4,l=i));let{$$slots:o={},$$scope:u}=e;we(async()=>{let i=await Ie("get_lib");De.update(v=>(v.library=i,v))});let a="",n=["/library","/updates","/browse","/more"],f={},p=!1,s={favorited:!1,data:{},back:"/"};function g(){t(0,a=l.to.url.pathname);let i=l.from.url.pathname;if(n.includes(a)&&(n.forEach(v=>{document.getElementById(v).classList.remove("selected")}),document.getElementById(a).classList.add("selected")),i.includes("reader")||(f[i]=document.getElementById("body").scrollTop,f.hasOwnProperty(a)?setTimeout(()=>document.getElementById("body").scrollTop=f[a],1):document.getElementById("body").scrollTop=0),a.includes("manga")&&!a.includes("reader")){switch(t(1,p=!0),i){case"/library":case"/updates":case"/browse":t(2,s.back=i,s)}t(2,s.data=Ue(l.to.params.manga),s),t(2,s.favorited=Ce(s.data.id),s)}else t(1,p=!1);a.includes("reader")?(document.getElementById("snackbar").style.display="none",document.getElementById("body").style.height="100vh",document.getElementById("nav-centered").style.display="none"):(document.getElementById("snackbar").style.display="block",document.getElementById("body").style.height=null,document.getElementById("nav-centered").style.display="block")}window.addEventListener("keydown",Qe);async function m(){t(2,s.favorited=!s.favorited,s),await Ne(s.data)}const _=async()=>_e(s.back),w=async()=>m(),D=()=>_e("/browse/add_sources");return b.$$set=i=>{"$$scope"in i&&t(5,u=i.$$scope)},b.$$.update=()=>{b.$$.dirty&16&&l&&g()},[a,p,s,m,l,u,o,_,w,D]}class at extends Te{constructor(e){super(),xe(this,e,Re,Je,ve,{})}}export{at as component,st as universal};

import{s as Je,a as Ve,r as Ke}from"../chunks/scheduler.B8cUhyJv.js";import{S as Le,i as Qe,e as g,s as N,t as q,o as Ne,c as b,a as k,d as f,f as U,b as z,l as i,g as L,h as o,j as ue,r as C,q as be,p as S,n as Re,x as le,k as We,y as re,u as Ue,z as se,m as _e,v as $e,A as ae}from"../chunks/index.DY94jAkc.js";import{e as Pe}from"../chunks/each.D6YF6ztN.js";import{F as ne,g as Ye,h as Ze,c as xe,i as ge,j as Fe,k as et}from"../chunks/fa-layers-text.svelte_svelte_type_style_lang.gXEXufag.js";import{g as tt}from"../chunks/entry.C_ODg16e.js";import{a as lt,b as rt,c as st,d as at}from"../chunks/common.CF3d71wm.js";import{s as je}from"../chunks/store.BsptXrlN.js";import{g as nt}from"../chunks/main.OBH_UArE.js";const it=!1;function ot({params:e}){return{id:e.manga}}const yt=Object.freeze(Object.defineProperty({__proto__:null,load:ot,prerender:it},Symbol.toStringTag,{value:"Module"}));function Ae(e,t,s){const l=e.slice();return l[13]=t[s],l[15]=s,l}function ct(e){let t,s=e[13].number+"",l,r,p=e[13].title+"",m;return{c(){t=q("Chapter "),l=q(s),r=q(" - "),m=q(p)},l(a){t=z(a,"Chapter "),l=z(a,s),r=z(a," - "),m=z(a,p)},m(a,u){L(a,t,u),L(a,l,u),L(a,r,u),L(a,m,u)},p(a,u){u&2&&s!==(s=a[13].number+"")&&ue(l,s),u&2&&p!==(p=a[13].title+"")&&ue(m,p)},d(a){a&&(f(t),f(l),f(r),f(m))}}}function ut(e){let t,s=e[13].number+"",l;return{c(){t=q("Chapter "),l=q(s)},l(r){t=z(r,"Chapter "),l=z(r,s)},m(r,p){L(r,t,p),L(r,l,p)},p(r,p){p&2&&s!==(s=r[13].number+"")&&ue(l,s)},d(r){r&&(f(t),f(l))}}}function Se(e){let t,s,l=e[1].chapters[e[15]].page+"",r,p;return{c(){t=g("p"),s=q(" (page: "),r=q(l),p=q(")"),this.h()},l(m){t=b(m,"P",{class:!0});var a=k(t);s=z(a," (page: "),r=z(a,l),p=z(a,")"),a.forEach(f),this.h()},h(){i(t,"class","progress svelte-1w6tx7i")},m(m,a){L(m,t,a),o(t,s),o(t,r),o(t,p)},p(m,a){a&2&&l!==(l=m[1].chapters[m[15]].page+"")&&ue(r,l)},d(m){m&&f(t)}}}function ft(e){let t,s;return t=new ne({props:{icon:et}}),{c(){le(t.$$.fragment)},l(l){re(t.$$.fragment,l)},m(l,r){se(t,l,r),s=!0},i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){ae(t,l)}}}function pt(e){let t,s;return t=new ne({props:{icon:Fe}}),{c(){le(t.$$.fragment)},l(l){re(t.$$.fragment,l)},m(l,r){se(t,l,r),s=!0},i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){ae(t,l)}}}function qe(e){let t,s,l,r,p;s=new ne({props:{icon:Fe}});function m(){return e[9](e[15])}return{c(){t=g("button"),le(s.$$.fragment),this.h()},l(a){t=b(a,"BUTTON",{id:!0,class:!0});var u=k(t);re(s.$$.fragment,u),u.forEach(f),this.h()},h(){i(t,"id","uncheck"),i(t,"class","chapter-btn svelte-1w6tx7i")},m(a,u){L(a,t,u),se(s,t,null),l=!0,r||(p=_e(t,"click",m),r=!0)},p(a,u){e=a},i(a){l||(C(s.$$.fragment,a),l=!0)},o(a){S(s.$$.fragment,a),l=!1},d(a){a&&f(t),ae(s),r=!1,p()}}}function ze(e){let t,s,l,r,p,m="date - group",a,u,w,D,T,O,G,$,P,n,V,B,Q,ee,X,R,W,F,H,ie,te,j,I,Y,d,x,c,_,h,Z,J,he;function pe(v,A){return v[13].title==""?ut:ct}let oe=pe(e),M=oe(e),E=e[1].chapters[e[15]].page-1!=0&&!e[1].chapters[e[15]].completed&&Se(e);function me(){return e[6](e[15])}const ke=[pt,ft],fe=[];function we(v,A){return v[1].chapters[v[15]].completed?0:1}T=we(e),O=fe[T]=ke[T](e);function Me(){return e[7](e[15])}n=new ne({props:{icon:rt}}),Q=new ne({props:{icon:Ye}});function Ge(){return e[8](e[15])}R=new ne({props:{icon:st}}),H=new ne({props:{icon:at}});let y=e[1].chapters[e[15]].page-1!=0&&qe(e);I=new ne({props:{icon:Ze}});function He(){return e[10](e[15])}c=new ne({props:{icon:xe}});function Xe(){return e[11](e[15])}return{c(){t=g("div"),s=g("button"),M.c(),l=N(),r=g("div"),p=g("p"),p.textContent=m,a=N(),E&&E.c(),u=N(),w=g("div"),D=g("button"),O.c(),G=N(),$=g("div"),P=g("button"),le(n.$$.fragment),V=N(),B=g("button"),le(Q.$$.fragment),ee=N(),X=g("button"),le(R.$$.fragment),W=N(),F=g("button"),le(H.$$.fragment),ie=N(),y&&y.c(),te=N(),j=g("button"),le(I.$$.fragment),Y=N(),d=g("div"),x=g("button"),le(c.$$.fragment),_=N(),this.h()},l(v){t=b(v,"DIV",{class:!0,style:!0});var A=k(t);s=b(A,"BUTTON",{class:!0});var ce=k(s);M.l(ce),l=U(ce),r=b(ce,"DIV",{class:!0});var ve=k(r);p=b(ve,"P",{class:!0,"data-svelte-h":!0}),We(p)!=="svelte-pwb13g"&&(p.textContent=m),a=U(ve),E&&E.l(ve),ve.forEach(f),ce.forEach(f),u=U(A),w=b(A,"DIV",{class:!0});var de=k(w);D=b(de,"BUTTON",{id:!0,class:!0});var ye=k(D);O.l(ye),ye.forEach(f),G=U(de),$=b(de,"DIV",{id:!0,style:!0,class:!0});var K=k($);P=b(K,"BUTTON",{id:!0,class:!0});var Ee=k(P);re(n.$$.fragment,Ee),Ee.forEach(f),V=U(K),B=b(K,"BUTTON",{id:!0,class:!0});var Te=k(B);re(Q.$$.fragment,Te),Te.forEach(f),ee=U(K),X=b(K,"BUTTON",{id:!0,class:!0});var Be=k(X);re(R.$$.fragment,Be),Be.forEach(f),W=U(K),F=b(K,"BUTTON",{id:!0,class:!0});var Ie=k(F);re(H.$$.fragment,Ie),Ie.forEach(f),ie=U(K),y&&y.l(K),te=U(K),j=b(K,"BUTTON",{id:!0,class:!0});var De=k(j);re(I.$$.fragment,De),De.forEach(f),K.forEach(f),Y=U(de),d=b(de,"DIV",{id:!0,style:!0,class:!0});var Oe=k(d);x=b(Oe,"BUTTON",{id:!0,class:!0});var Ce=k(x);re(c.$$.fragment,Ce),Ce.forEach(f),Oe.forEach(f),de.forEach(f),_=U(A),A.forEach(f),this.h()},h(){i(p,"class","svelte-1w6tx7i"),i(r,"class","chapter-lower svelte-1w6tx7i"),i(s,"class","chapter-link svelte-1w6tx7i"),i(D,"id","check"),i(D,"class","chapter-btn svelte-1w6tx7i"),i(P,"id","bookmark"),i(P,"class","chapter-btn svelte-1w6tx7i"),i(B,"id","check-below"),i(B,"class","chapter-btn svelte-1w6tx7i"),i(X,"id","download"),i(X,"class","chapter-btn svelte-1w6tx7i"),i(F,"id","select"),i(F,"class","chapter-btn svelte-1w6tx7i"),i(j,"id","options-return"),i(j,"class","chapter-btn svelte-1w6tx7i"),i($,"id","i-"+e[15]),Ue($,"display","none"),i($,"class","svelte-1w6tx7i"),i(x,"id","options"),i(x,"class","chapter-btn svelte-1w6tx7i"),i(d,"id","o-"+e[15]),Ue(d,"display","flex"),i(d,"class","svelte-1w6tx7i"),i(w,"class","chap-btns svelte-1w6tx7i"),i(t,"class","chapter svelte-1w6tx7i"),i(t,"style",h=e[1].chapters[e[15]].completed?"color: grey":"")},m(v,A){L(v,t,A),o(t,s),M.m(s,null),o(s,l),o(s,r),o(r,p),o(r,a),E&&E.m(r,null),o(t,u),o(t,w),o(w,D),fe[T].m(D,null),o(w,G),o(w,$),o($,P),se(n,P,null),o($,V),o($,B),se(Q,B,null),o($,ee),o($,X),se(R,X,null),o($,W),o($,F),se(H,F,null),o($,ie),y&&y.m($,null),o($,te),o($,j),se(I,j,null),o(w,Y),o(w,d),o(d,x),se(c,x,null),o(t,_),Z=!0,J||(he=[_e(s,"click",me),_e(D,"click",Me),_e(B,"click",Ge),_e(j,"click",He),_e(x,"click",Xe)],J=!0)},p(v,A){e=v,oe===(oe=pe(e))&&M?M.p(e,A):(M.d(1),M=oe(e),M&&(M.c(),M.m(s,l))),e[1].chapters[e[15]].page-1!=0&&!e[1].chapters[e[15]].completed?E?E.p(e,A):(E=Se(e),E.c(),E.m(r,null)):E&&(E.d(1),E=null);let ce=T;T=we(e),T!==ce&&($e(),S(fe[ce],1,1,()=>{fe[ce]=null}),be(),O=fe[T],O||(O=fe[T]=ke[T](e),O.c()),C(O,1),O.m(D,null)),e[1].chapters[e[15]].page-1!=0?y?(y.p(e,A),A&2&&C(y,1)):(y=qe(e),y.c(),C(y,1),y.m($,te)):y&&($e(),S(y,1,1,()=>{y=null}),be()),(!Z||A&2&&h!==(h=e[1].chapters[e[15]].completed?"color: grey":""))&&i(t,"style",h)},i(v){Z||(C(O),C(n.$$.fragment,v),C(Q.$$.fragment,v),C(R.$$.fragment,v),C(H.$$.fragment,v),C(y),C(I.$$.fragment,v),C(c.$$.fragment,v),Z=!0)},o(v){S(O),S(n.$$.fragment,v),S(Q.$$.fragment,v),S(R.$$.fragment,v),S(H.$$.fragment,v),S(y),S(I.$$.fragment,v),S(c.$$.fragment,v),Z=!1},d(v){v&&f(t),M.d(),E&&E.d(),fe[T].d(),ae(n),ae(Q),ae(R),ae(H),y&&y.d(),ae(I),ae(c),J=!1,Ke(he)}}}function dt(e){let t,s,l,r,p,m,a,u,w,D=e[1].title+"",T,O,G,$,P=e[1].authors+"",n,V,B,Q,ee=e[1].extention+"",X,R,W,F,H=e[1].description+"",ie,te,j,I,Y=Pe(e[1].chapters),d=[];for(let c=0;c<Y.length;c+=1)d[c]=ze(Ae(e,Y,c));const x=c=>S(d[c],1,1,()=>{d[c]=null});return{c(){t=g("div"),s=g("div"),l=g("img"),m=N(),a=g("div"),u=g("div"),w=g("h3"),T=q(D),O=N(),G=g("p"),$=q("Author: "),n=q(P),V=N(),B=g("p"),Q=q("Extention: "),X=q(ee),R=N(),W=g("div"),F=g("p"),ie=q(H),te=N();for(let c=0;c<d.length;c+=1)d[c].c();j=Ne(),this.h()},l(c){t=b(c,"DIV",{id:!0,class:!0});var _=k(t);s=b(_,"DIV",{id:!0,class:!0});var h=k(s);l=b(h,"IMG",{id:!0,src:!0,alt:!0,class:!0}),h.forEach(f),m=U(_),a=b(_,"DIV",{id:!0,class:!0});var Z=k(a);u=b(Z,"DIV",{id:!0,class:!0});var J=k(u);w=b(J,"H3",{});var he=k(w);T=z(he,D),he.forEach(f),O=U(J),G=b(J,"P",{class:!0});var pe=k(G);$=z(pe,"Author: "),n=z(pe,P),pe.forEach(f),V=U(J),B=b(J,"P",{class:!0});var oe=k(B);Q=z(oe,"Extention: "),X=z(oe,ee),oe.forEach(f),R=U(J),W=b(J,"DIV",{id:!0,class:!0});var M=k(W);F=b(M,"P",{class:!0});var E=k(F);ie=z(E,H),E.forEach(f),M.forEach(f),J.forEach(f),Z.forEach(f),_.forEach(f),te=U(c);for(let me=0;me<d.length;me+=1)d[me].l(c);j=Ne(),this.h()},h(){i(l,"id","img"),Ve(l.src,r=e[1].img)||i(l,"src",r),i(l,"alt",p=e[1].title),i(l,"class","svelte-1w6tx7i"),i(s,"id","img-wrapper"),i(s,"class","svelte-1w6tx7i"),i(G,"class","svelte-1w6tx7i"),i(B,"class","svelte-1w6tx7i"),i(F,"class","svelte-1w6tx7i"),i(W,"id","desc"),i(W,"class","svelte-1w6tx7i"),i(u,"id","text"),i(u,"class","svelte-1w6tx7i"),i(a,"id","header-content"),i(a,"class","svelte-1w6tx7i"),i(t,"id","header"),i(t,"class","svelte-1w6tx7i")},m(c,_){L(c,t,_),o(t,s),o(s,l),o(t,m),o(t,a),o(a,u),o(u,w),o(w,T),o(u,O),o(u,G),o(G,$),o(G,n),o(u,V),o(u,B),o(B,Q),o(B,X),o(u,R),o(u,W),o(W,F),o(F,ie),L(c,te,_);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(c,_);L(c,j,_),I=!0},p(c,[_]){if((!I||_&2&&!Ve(l.src,r=c[1].img))&&i(l,"src",r),(!I||_&2&&p!==(p=c[1].title))&&i(l,"alt",p),(!I||_&2)&&D!==(D=c[1].title+"")&&ue(T,D),(!I||_&2)&&P!==(P=c[1].authors+"")&&ue(n,P),(!I||_&2)&&ee!==(ee=c[1].extention+"")&&ue(X,ee),(!I||_&2)&&H!==(H=c[1].description+"")&&ue(ie,H),_&63){Y=Pe(c[1].chapters);let h;for(h=0;h<Y.length;h+=1){const Z=Ae(c,Y,h);d[h]?(d[h].p(Z,_),C(d[h],1)):(d[h]=ze(Z),d[h].c(),C(d[h],1),d[h].m(j.parentNode,j))}for($e(),h=Y.length;h<d.length;h+=1)x(h);be()}},i(c){if(!I){for(let _=0;_<Y.length;_+=1)C(d[_]);I=!0}},o(c){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)S(d[_]);I=!1},d(c){c&&(f(t),f(te),f(j)),Re(d,c)}}}function _t(e,t,s){let{data:l}=t,r={};je.subscribe(async n=>{s(1,r=lt(l.id)),r.chapters.length==0&&(s(1,r.chapters=await nt(r.extention,r.id),r),r.chapters.sort((V,B)=>B.number-V.number))});function p(n){r.chapters[n].completed?s(1,r.chapters[n].completed=!1,r):s(1,r.chapters[n].completed=!0,r),ge("update_lib",{item:r})}function m(n){for(let V=n+1;V<r.chapters.length;V++)s(1,r.chapters[V].completed=!0,r);ge("update_lib",{item:r})}function a(n){s(1,r.chapters[n].page=1,r),ge("update_lib",{item:r})}let u=[];function w(n){if(u.includes(n)){let V=u.indexOf(n);V!=-1&&u.splice(V,1),document.getElementById(`i-${n}`).style.display="none",document.getElementById(`o-${n}`).style.display="flex"}else u.push(n),document.getElementById(`i-${n}`).style.display="flex",document.getElementById(`o-${n}`).style.display="none"}const D=n=>tt(`/manga/${l.id}/reader/${n}`),T=n=>p(n),O=n=>m(n),G=n=>a(n),$=n=>w(n),P=n=>w(n);return e.$$set=n=>{"data"in n&&s(0,l=n.data)},e.$$.update=()=>{e.$$.dirty&2&&Object.keys(r).length!=0&&je.update(n=>(n.history.push(r),n))},[l,r,p,m,a,w,D,T,O,G,$,P]}class Et extends Le{constructor(t){super(),Qe(this,t,_t,dt,Je,{data:0})}}export{Et as component,yt as universal};
